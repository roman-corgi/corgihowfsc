# SUBBANDS and WAVELENGTHS
coro_mode: 'wfov_band4_flat'
cal_bandpass: '4b'
lam_central: 825.0E-9
ppl_meas_ref: 3.27139972402
subband_list: ['4A', '4B', '4C']
n_subband: 3
fn_ref_howfsc_yaml: '../models/homf_dmreg/howfsc_optical_model_dmreg_only_band_4b.yaml'

# STAR
spectral_type: 'f5v'

# MASKS
is_hlc: false
mask_folder: 'SPC_20200610_WFOV'
fn_fpm: 'FPM_SPC_20200610_WFOV_25pixPerLamD.fits'
fn_lyot: 'LS_SPC_20200610_WFOV_1000_XCS.fits'
fn_spm: 'SPM_SPC-20200610_1000_rounded9_gray_rotated_XCS.fits'
mag_pupil_vs_ref:  0.29924925780939384  # !eval 299.24925780939384/1000  # See beam diameter in scripts/data/spam/calib_spam_results.csv
use_spm: true
is_fpm_open: false
n_fpm: 211
ppl_fpm_ref: 25
ppl_fpm_central: 5

# FIELD STOP 
fn_fs: null
# ppl_fs_ref: 25
# fs_rot_deg: 0  # degrees
# fs_x_offset: 0  # in EXCAM pixels
# fs_y_offset: 0  # in EXCAM pixels

# DARK HOLE PIXELS
dh_match_fs: false  # Whether to set the dark hole to be a thresholded version of the field stop
fs_thresh_for_dh:  0.1  # only used if dh_match_fs==true. Not know what best value is.
dh_dict:  # if dh_match_fs==true, these inputs are used for 'build_sls.add_dh'
    shape: 'annulus'
    radiusInnerLamD: 5.6
    radiusOuterLamD: 20.4
    xOffset: 0  # from star center. Star center added separately
    yOffset: 0  # from star center. Star center added separately
    

# PUPIL E-FIELD AND ASSOCIATED DM SETTINGS
fn_dm1v_epup: './data/pupil/4b/v_flat_phase_band4_dm1.fits'
fn_dm2v_epup: './data/pupil/4b/v_flat_phase_band4_dm2.fits'
fn_amp_end2end: './data/pupil/4b/poked_none/amp_end2end.fits'
fn_ph_end2end: './data/pupil/4b/poked_none/phase_end2end.fits'
fn_ph_backend: './data/pupil/4b/poked_none/phase_backend.fits'

# DO NOT CHANGE 
n_excam: 153  # Has to match FSW!!!
fn_howfsc_yaml: 'howfsc_optical_model.yaml' 
# n_subband: !eval len(subband_list)

tip_list: [0, 0, 0]  # x_excam
tilt_list: [0, 0, 0]  # y_excam
